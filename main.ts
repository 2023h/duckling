scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    sprite.vy = -50
})
function level1 () {
    tiles.setTilemap(tilemap`level2`)
    tiles.placeOnRandomTile(mySprite, assets.tile`myTile8`)
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile15`, function (sprite, location) {
    game.showLongText("Game Over", DialogLayout.Bottom)
    tiles.placeOnRandomTile(mySprite, assets.tile`myTile8`)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile13`, function (sprite, location) {
    game.showLongText("Game Over", DialogLayout.Bottom)
    tiles.placeOnRandomTile(mySprite, assets.tile`myTile8`)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        if (jump < 1) {
            mySprite.vy = -100
            jump += 1
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . f f . . . . . . . . . 
        . . . . f 6 6 f f . . . . . . . 
        . . f f 9 9 5 6 6 f f f . . f f 
        . f 5 5 9 9 9 5 6 6 5 5 f f 9 9 
        f 9 9 5 5 9 9 5 6 6 6 5 5 9 9 6 
        9 f 9 5 5 6 9 5 6 6 6 5 5 9 9 6 
        9 9 9 5 5 6 9 5 6 6 6 5 5 9 9 6 
        f 9 9 9 9 6 5 5 6 6 5 5 f f 9 9 
        . f f 9 9 5 5 6 6 f f f . . f f 
        . . . f f f f f f . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile9`, function (sprite, location) {
    level2()
})
function level3 () {
    tiles.setTilemap(tilemap`level4`)
    tiles.placeOnRandomTile(mySprite, assets.tile`myTile8`)
}
function level2 () {
    tiles.setTilemap(tilemap`level3`)
    tiles.placeOnRandomTile(mySprite, assets.tile`myTile8`)
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile16`, function (sprite, location) {
    game.showLongText("you win!", DialogLayout.Bottom)
    level1()
})
scene.onHitWall(SpriteKind.Enemy, function (sprite, location) {
    sprite.destroy()
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . f f . . . . . 
        . . . . . . . f f 6 6 f . . . . 
        f f . . f f f 6 6 5 9 9 f f . . 
        9 9 f f 5 5 6 6 5 9 9 9 5 5 f . 
        6 9 9 5 5 6 6 6 5 9 9 5 5 9 9 f 
        6 9 9 5 5 6 6 6 5 9 6 5 5 9 f 9 
        6 9 9 5 5 6 6 6 5 9 6 5 5 9 9 9 
        9 9 f f 5 5 6 6 5 5 6 9 9 9 9 f 
        f f . . f f f 6 6 5 5 9 9 f f . 
        . . . . . . . f f f f f f . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile10`, function (sprite, location) {
    sprite.vy = -50
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile14`, function (sprite, location) {
    level3()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile11`, function (sprite, location) {
    sprite.vy = -50
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprite.destroy()
})
let mySprite2: Sprite = null
let jump = 0
let mySprite: Sprite = null
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
game.showLongText("wata", DialogLayout.Bottom)
mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . f f . . . . . . . . . 
    . . . . f 6 6 f f . . . . . . . 
    . . f f 9 9 5 6 6 f f f . . f f 
    . f 5 5 9 9 9 5 6 6 5 5 f f 9 9 
    f 9 9 5 5 9 9 5 6 6 6 5 5 9 9 6 
    9 f 9 5 5 6 9 5 6 6 6 5 5 9 9 6 
    9 9 9 5 5 6 9 5 6 6 6 5 5 9 9 6 
    f 9 9 9 9 6 5 5 6 6 5 5 f f 9 9 
    . f f 9 9 5 5 6 6 f f f . . f f 
    . . . f f f f f f . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 100, 0)
scene.cameraFollowSprite(mySprite)
jump = 0
level1()
game.onUpdateInterval(5000, function () {
    mySprite2 = sprites.create(img`
        ........ff..........
        ........ff..........
        .....eee2222........
        ......22ffeee.......
        ........22..........
        .......5555.........
        ......55dd55........
        .....5dd55dd5.......
        .....d522255d.......
        ....552999255225....
        ....5529992552255...
        ....5529992552255ddf
        ...55552225552255...
        ...55555555552255fff
        ...555dddddd55255.55
        ...5dd999999dd5...99
        ...d9999999999d.....
        ...999999999199.....
        ...999999991199.....
        ....9999991199......
        .....99191199.......
        ......999999........
        `, SpriteKind.Enemy)
    mySprite2.setPosition(randint(mySprite.x - 80, mySprite.x + 80), 0)
    mySprite2.vy = 50
})
forever(function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        jump = 0
    }
})
forever(function () {
    mySprite.ay = 200
})
